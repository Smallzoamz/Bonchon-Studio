<!DOCTYPE html>
<html lang="th">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Security-Policy"
        content="default-src 'self'; script-src 'self' 'unsafe-inline'; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com; font-src 'self' https://fonts.gstatic.com; img-src 'self' data: https:;">
    <title>Bonchon Launcher</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles/main.css">
</head>

<body>
    <!-- Splash Screen -->
    <div class="splash-screen" id="splash-screen">
        <div class="splash-content">
            <div class="splash-logo">
                <svg width="120" height="120" viewBox="0 0 120 120" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <defs>
                        <linearGradient id="logoGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                            <stop offset="0%" style="stop-color:#00d4ff" />
                            <stop offset="100%" style="stop-color:#0099cc" />
                        </linearGradient>
                    </defs>
                    <circle cx="60" cy="60" r="55" stroke="url(#logoGradient)" stroke-width="3" fill="none"
                        class="splash-circle" />
                    <path
                        d="M60 25C42 25 28 39 28 57C28 75 42 89 60 89C78 89 92 75 92 57C92 39 78 25 60 25ZM60 82C46 82 35 71 35 57C35 43 46 32 60 32C74 32 85 43 85 57C85 71 74 82 60 82Z"
                        fill="url(#logoGradient)" />
                    <circle cx="60" cy="57" r="12" fill="url(#logoGradient)" />
                    <!-- Cat ears -->
                    <path d="M35 30L45 45L25 45Z" fill="url(#logoGradient)" />
                    <path d="M85 30L95 45L75 45Z" fill="url(#logoGradient)" />
                </svg>
            </div>
            <h1 class="splash-title">Bonchon Launcher</h1>
            <p class="splash-subtitle">Loading...</p>
            <div class="splash-loader">
                <div class="splash-loader-bar"></div>
            </div>
        </div>
    </div>

    <!-- Custom Title Bar -->
    <div class="titlebar">
        <div class="titlebar-drag">
            <div class="titlebar-logo">
                <svg width="24" height="24" viewBox="0 0 120 120" fill="none">
                    <circle cx="60" cy="60" r="50" stroke="#00d4ff" stroke-width="4" fill="none" />
                    <circle cx="60" cy="57" r="12" fill="#00d4ff" />
                    <path d="M35 30L45 45L25 45Z" fill="#00d4ff" />
                    <path d="M85 30L95 45L75 45Z" fill="#00d4ff" />
                </svg>
                <span>Bonchon Launcher</span>
            </div>
        </div>
        <div class="titlebar-controls">
            <button class="titlebar-btn" id="btn-minimize">
                <svg width="12" height="12" viewBox="0 0 12 12">
                    <rect y="5" width="12" height="2" fill="currentColor" />
                </svg>
            </button>
            <button class="titlebar-btn" id="btn-maximize">
                <svg width="12" height="12" viewBox="0 0 12 12">
                    <rect x="1" y="1" width="10" height="10" fill="none" stroke="currentColor" stroke-width="1.5" />
                </svg>
            </button>
            <button class="titlebar-btn btn-close" id="btn-close">
                <svg width="12" height="12" viewBox="0 0 12 12">
                    <line x1="1" y1="1" x2="11" y2="11" stroke="currentColor" stroke-width="1.5" />
                    <line x1="11" y1="1" x2="1" y2="11" stroke="currentColor" stroke-width="1.5" />
                </svg>
            </button>
        </div>
    </div>

    <!-- Dynamic Background -->
    <div class="dynamic-background" id="dynamic-background">
        <div class="bg-image" id="bg-image"></div>
        <div class="bg-overlay"></div>
    </div>

    <!-- Main Container -->
    <div class="main-container">
        <!-- Sidebar -->
        <aside class="sidebar">
            <div class="sidebar-glow"></div>
            <nav class="sidebar-nav">
                <div class="nav-section-title">Menu</div>
                <button class="nav-item active" data-page="store">
                    <div class="nav-icon-wrapper">
                        <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                            <path d="M4 7V4a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v3" />
                            <path d="M2 10a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-9z" />
                            <path d="M12 12v6" />
                            <path d="M9 15l3-3 3 3" />
                        </svg>
                    </div>
                    <span>Store</span>
                    <div class="nav-indicator"></div>
                </button>
                <button class="nav-item" data-page="library">
                    <div class="nav-icon-wrapper">
                        <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                            <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20" />
                            <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z" />
                            <path d="M8 7h8" />
                            <path d="M8 11h6" />
                        </svg>
                    </div>
                    <span>Library</span>
                    <div class="nav-indicator"></div>
                </button>
                <button class="nav-item" data-page="settings">
                    <div class="nav-icon-wrapper">
                        <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                            <circle cx="12" cy="12" r="3" />
                            <path
                                d="M12 1v4M12 19v4M4.22 4.22l2.83 2.83M16.95 16.95l2.83 2.83M1 12h4M19 12h4M4.22 19.78l2.83-2.83M16.95 7.05l2.83-2.83" />
                        </svg>
                    </div>
                    <span>Settings</span>
                    <div class="nav-indicator"></div>
                </button>
            </nav>

            <div class="sidebar-footer">
                <div class="studio-brand">
                    <div class="studio-logo-wrapper">
                        <svg width="40" height="40" viewBox="0 0 120 120" fill="none">
                            <circle cx="60" cy="60" r="50" stroke="#00d4ff" stroke-width="4" fill="none" />
                            <circle cx="60" cy="57" r="12" fill="#00d4ff" />
                            <path d="M35 30L45 45L25 45Z" fill="#00d4ff" />
                            <path d="M85 30L95 45L75 45Z" fill="#00d4ff" />
                        </svg>
                    </div>
                    <div class="studio-info">
                        <span class="studio-name">Bonchon Studio</span>
                        <span class="studio-version">v1.0.0</span>
                    </div>
                </div>
            </div>
        </aside>

        <!-- Content Area -->
        <main class="content">
            <!-- Store Page -->
            <section class="page active" id="page-store">
                <div class="page-header">
                    <div class="page-title-wrapper">
                        <div class="page-icon">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                                <path d="M4 7V4a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v3" />
                                <path d="M2 10a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-9z" />
                                <path d="M12 12v6" />
                                <path d="M9 15l3-3 3 3" />
                            </svg>
                        </div>
                        <div>
                            <h1 class="page-title">Store</h1>
                            <p class="page-subtitle">ดาวน์โหลดโปรแกรมจาก Bonchon Studio</p>
                        </div>
                    </div>
                </div>
                <div class="apps-grid" id="store-grid">
                    <!-- Apps will be loaded here -->
                </div>
            </section>

            <!-- Library Page -->
            <section class="page" id="page-library">
                <div class="page-header">
                    <div class="page-title-wrapper">
                        <div class="page-icon">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                                <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20" />
                                <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z" />
                                <path d="M8 7h8" />
                                <path d="M8 11h6" />
                            </svg>
                        </div>
                        <div>
                            <h1 class="page-title">Library</h1>
                            <p class="page-subtitle">โปรแกรมที่ติดตั้งแล้ว</p>
                        </div>
                    </div>
                </div>
                <div class="apps-grid" id="library-grid">
                    <!-- Installed apps will be loaded here -->
                </div>
                <div class="empty-state" id="library-empty">
                    <div class="empty-icon">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                            <path
                                d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z" />
                            <polyline points="3.27 6.96 12 12.01 20.73 6.96" />
                            <line x1="12" y1="22.08" x2="12" y2="12" />
                        </svg>
                    </div>
                    <h3>ยังไม่มีโปรแกรมที่ติดตั้ง</h3>
                    <p>ไปที่ Store เพื่อดาวน์โหลดโปรแกรม</p>
                    <button class="btn btn-primary" onclick="navigateTo('store')">ไปที่ Store</button>
                </div>
            </section>

            <!-- Settings Page -->
            <section class="page" id="page-settings">
                <div class="page-header">
                    <div class="page-title-wrapper">
                        <div class="page-icon">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                                <circle cx="12" cy="12" r="3" />
                                <path
                                    d="M12 1v4M12 19v4M4.22 4.22l2.83 2.83M16.95 16.95l2.83 2.83M1 12h4M19 12h4M4.22 19.78l2.83-2.83M16.95 7.05l2.83-2.83" />
                            </svg>
                        </div>
                        <div>
                            <h1 class="page-title">Settings</h1>
                            <p class="page-subtitle">ตั้งค่าแอปพลิเคชัน</p>
                        </div>
                    </div>
                </div>
                <div class="settings-container">
                    <div class="settings-section">
                        <h2 class="settings-title">General</h2>
                        <div class="setting-item">
                            <div class="setting-info">
                                <label>Download Location</label>
                                <p class="setting-desc" id="download-path-display">-</p>
                            </div>
                            <button class="btn btn-secondary" id="btn-change-path">Change</button>
                        </div>
                    </div>

                    <div class="settings-section">
                        <h2 class="settings-title">Startup & Behavior</h2>
                        <div class="setting-item">
                            <div class="setting-info">
                                <label>เปิดโปรแกรมอัตโนมัติเมื่อเริ่ม Windows</label>
                                <p class="setting-desc">โปรแกรมจะเปิดขึ้นมาอัตโนมัติเมื่อคุณเริ่มคอมพิวเตอร์</p>
                            </div>
                            <label class="toggle-switch">
                                <input type="checkbox" id="setting-autostart">
                                <span class="toggle-slider"></span>
                            </label>
                        </div>
                        <div class="setting-item">
                            <div class="setting-info">
                                <label>ย่อไป System Tray เมื่อกดปิด</label>
                                <p class="setting-desc">เมื่อกดปุ่มปิด โปรแกรมจะย่อไปที่ System Tray แทนที่จะปิดทันที
                                </p>
                            </div>
                            <label class="toggle-switch">
                                <input type="checkbox" id="setting-tray" checked>
                                <span class="toggle-slider"></span>
                            </label>
                        </div>
                    </div>

                    <div class="settings-section">
                        <h2 class="settings-title">About</h2>
                        <div class="about-card">
                            <div class="about-logo-wrapper">
                                <svg width="64" height="64" viewBox="0 0 120 120" fill="none">
                                    <circle cx="60" cy="60" r="50" stroke="#00d4ff" stroke-width="4" fill="none" />
                                    <circle cx="60" cy="57" r="12" fill="#00d4ff" />
                                    <path d="M35 30L45 45L25 45Z" fill="#00d4ff" />
                                    <path d="M85 30L95 45L75 45Z" fill="#00d4ff" />
                                </svg>
                            </div>
                            <div class="about-info">
                                <h3>Bonchon Launcher</h3>
                                <p>Version 1.0.0</p>
                                <p class="about-desc">ศูนย์รวมโปรแกรมจาก Bonchon Studio</p>
                            </div>
                        </div>
                        <div class="about-links">
                            <button class="btn btn-ghost" id="btn-website">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <circle cx="12" cy="12" r="10" />
                                    <line x1="2" y1="12" x2="22" y2="12" />
                                    <path
                                        d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z" />
                                </svg>
                                Website
                            </button>
                            <button class="btn btn-ghost" id="btn-discord">
                                <svg viewBox="0 0 24 24" fill="currentColor">
                                    <path
                                        d="M20.317 4.37a19.791 19.791 0 0 0-4.885-1.515.074.074 0 0 0-.079.037c-.21.375-.444.864-.608 1.25a18.27 18.27 0 0 0-5.487 0 12.64 12.64 0 0 0-.617-1.25.077.077 0 0 0-.079-.037A19.736 19.736 0 0 0 3.677 4.37a.07.07 0 0 0-.032.027C.533 9.046-.32 13.58.099 18.057a.082.082 0 0 0 .031.057 19.9 19.9 0 0 0 5.993 3.03.078.078 0 0 0 .084-.028 14.09 14.09 0 0 0 1.226-1.994.076.076 0 0 0-.041-.106 13.107 13.107 0 0 1-1.872-.892.077.077 0 0 1-.008-.128 10.2 10.2 0 0 0 .372-.292.074.074 0 0 1 .077-.01c3.928 1.793 8.18 1.793 12.062 0a.074.074 0 0 1 .078.01c.12.098.246.198.373.292a.077.077 0 0 1-.006.127 12.299 12.299 0 0 1-1.873.892.077.077 0 0 0-.041.107c.36.698.772 1.362 1.225 1.993a.076.076 0 0 0 .084.028 19.839 19.839 0 0 0 6.002-3.03.077.077 0 0 0 .032-.054c.5-5.177-.838-9.674-3.549-13.66a.061.061 0 0 0-.031-.03zM8.02 15.33c-1.183 0-2.157-1.085-2.157-2.419 0-1.333.956-2.419 2.157-2.419 1.21 0 2.176 1.096 2.157 2.42 0 1.333-.956 2.418-2.157 2.418zm7.975 0c-1.183 0-2.157-1.085-2.157-2.419 0-1.333.955-2.419 2.157-2.419 1.21 0 2.176 1.096 2.157 2.42 0 1.333-.946 2.418-2.157 2.418z" />
                                </svg>
                                Discord
                            </button>
                        </div>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <!-- Download Progress Modal -->
    <div class="modal" id="download-modal">
        <div class="modal-content download-modal-content">
            <div class="download-header">
                <div class="download-app-icon-wrapper">
                    <svg width="48" height="48" viewBox="0 0 80 80" fill="none">
                        <rect width="80" height="80" rx="16" fill="#1a1a24" />
                        <circle cx="40" cy="40" r="15" fill="#00d4ff" />
                    </svg>
                </div>
                <div class="download-info">
                    <h3 id="download-app-name">Downloading...</h3>
                    <p id="download-status">Preparing download...</p>
                </div>
            </div>
            <div class="progress-container">
                <div class="progress-bar">
                    <div class="progress-fill" id="download-progress"></div>
                </div>
                <div class="progress-text">
                    <span id="download-percent">0%</span>
                    <span id="download-speed">-</span>
                </div>
            </div>
            <div class="download-actions">
                <button class="btn btn-secondary" id="btn-minimize-download">ซ่อนลงพื้นหลัง</button>
                <button class="btn btn-danger btn-sm" id="btn-cancel-download">ยกเลิก</button>
            </div>
        </div>
    </div>

    <!-- Background Download Widget -->
    <div class="bg-download-widget hidden" id="bg-download-widget">
        <div class="bg-download-header">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4" />
                <polyline points="7 10 12 15 17 10" />
                <line x1="12" y1="15" x2="12" y2="3" />
            </svg>
            <span>กำลังดาวน์โหลด</span>
            <button class="bg-download-expand" id="btn-expand-download">
                <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <polyline points="18 15 12 9 6 15" />
                </svg>
            </button>
        </div>
        <div class="bg-download-content" id="bg-download-list">
            <!-- Download items will be added here -->
        </div>
    </div>

    <!-- Uninstall Progress Modal -->
    <div class="modal" id="uninstall-modal">
        <div class="modal-content download-modal-content">
            <div class="download-header">
                <div class="download-app-icon-wrapper uninstall-icon">
                    <svg width="48" height="48" viewBox="0 0 80 80" fill="none">
                        <rect width="80" height="80" rx="16" fill="#1a1a24" />
                        <path
                            d="M25 30h30M35 30V25a5 5 0 0 1 5-5h0a5 5 0 0 1 5 5v5M30 35v20M40 35v20M50 35v20M28 30l2 30a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3l2-30"
                            stroke="#ff4466" stroke-width="3" stroke-linecap="round" />
                    </svg>
                </div>
                <div class="download-info">
                    <h3 id="uninstall-app-name">กำลังลบ...</h3>
                    <p id="uninstall-status">กำลังลบไฟล์...</p>
                </div>
            </div>
            <div class="progress-container">
                <div class="progress-bar uninstall-bar">
                    <div class="progress-fill uninstall-fill" id="uninstall-progress"></div>
                </div>
                <div class="progress-text">
                    <span id="uninstall-percent">0%</span>
                </div>
            </div>
        </div>
    </div>

    <!-- Custom Confirm Dialog -->
    <div class="modal" id="confirm-modal">
        <div class="modal-content confirm-modal-content">
            <div class="confirm-icon" id="confirm-icon">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <circle cx="12" cy="12" r="10" />
                    <line x1="12" y1="8" x2="12" y2="12" />
                    <line x1="12" y1="16" x2="12.01" y2="16" />
                </svg>
            </div>
            <h3 class="confirm-title" id="confirm-title">ยืนยันการดำเนินการ</h3>
            <p class="confirm-message" id="confirm-message">คุณต้องการดำเนินการนี้หรือไม่?</p>
            <div class="confirm-actions">
                <button class="btn btn-secondary" id="btn-confirm-cancel">ยกเลิก</button>
                <button class="btn btn-primary" id="btn-confirm-ok">ยืนยัน</button>
            </div>
        </div>
    </div>

    <script src="renderer.js"></script>
</body>

</html>